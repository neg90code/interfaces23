<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Cargar Imagen</title>

</head>

<body style="margin:0;padding:0;">
	<canvas id="canvas" width="1450" height="1200" style="border:#000 solid 1px;">
		<p>Su navegador no soporta HTML5</p>
	</canvas>

	<script type="text/javascript">

		debugger;
		var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");

		ctx.fillStyle = "#000";
		ctx.fillRect(0, 0, 1450, 1200);

		var imageHeight = 0;
		var imageWidht = 0;

		var imageData;

		var ImagenHTML5 = new Image();
		ImagenHTML5.src = "logo.png";
		//ImagenHTML5.addEventListener('load' , render_image);

		//uso una funcion onload para que pinte la imagen una vez que ha sido descargada en el navegador    
		
		ImagenHTML5.onload = function () {
			ctx.drawImage(this, 0, 0);

			imageWidth = this.width;
			imageHeight = this.height;

			//imageData = ctx.getImageData(0, 0, imageWidth, imageHeight);

			// copy the image data back onto the canvas
			ctx.putImageData(imageData, 0, 0); // at coords 0,0
		}

		function recorrer_imagen() {
			for (let x = 0; x < this.width; x++) {
				for (let y = 0; y < this.height; y++) {
					setPixel(imageData, x, y, 0, 0, 0, 0);
				}
			}
		}

		function setPixel(imageData, x, y, r, g, b, a) {
			index = (x + y * imageData.width) * 4;
			imageData.data[index + 0] = r;
			imageData.data[index + 1] = g;
			imageData.data[index + 2] = b;
			imageData.data[index + 3] = a;
		}

		function getRed(imageData, x, y) {
			index = (x + y * imageData.width) * 4;
			return imageData.data[index + 0];
		}

		function getGreen(imageData, x, y) {
			index = (x + y * imageData.width) * 4;
			return imageData.data[index + 1];
		}

		function getBlue(imageData, x, y) {
			index = (x + y * imageData.width) * 4;
			return imageData.data[index + 2];
		}

	</script>